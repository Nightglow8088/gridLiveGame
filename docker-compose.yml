version: '3.8'

services:
  # åç«¯æœåŠ¡
  backend:
    build: .
    container_name: pupupu-backend
    environment:
      # ğŸ‘‡ğŸ‘‡ğŸ‘‡ è®°å¾—æŠŠè¿™é‡Œæ¢æˆä½ çœŸå®çš„å®Œæ•´è¿æ¥å­—ç¬¦ä¸²ï¼ğŸ‘‡ğŸ‘‡ğŸ‘‡
      - SPRING_DATA_MONGODB_URI=mongodb+srv://kevinB:MtBBPyxpKRMpmfyG@livinggrid.0b3gdw8.mongodb.net/pupupuDemo?appName=livingGrid
      # å¦‚æœä½ çš„ API Token ä¸æ˜¯å†™æ­»åœ¨ä»£ç é‡Œçš„ï¼Œä¹Ÿè¦åœ¨è¿™é‡ŒåŠ ä¸€è¡Œï¼š
      # - API_TOKEN=eyJ...
    expose:
      - "8080" # åªåœ¨ Docker ç½‘ç»œå†…éƒ¨æš´éœ²ï¼Œå¤–ç½‘è®¿é—®ä¸åˆ°ï¼Œå®‰å…¨ï¼

  # å‰ç«¯æœåŠ¡ (å…¼åå‘ä»£ç†)
  frontend:
    build: ./client
    container_name: pupupu-frontend
    ports:
      - "8088:80" # æŠŠå®¹å™¨çš„ 80 æ˜ å°„åˆ°æœåŠ¡å™¨çš„ 8088
    depends_on:
      - backend # ç¡®ä¿åç«¯å…ˆå¯åŠ¨